# 宏任务和微任务
JavaScript 是单线程的，同一时间只能做一件事。<br/>
JavaScript 先执行同步任务, 同步任务执行完才进入事件循环，执行事件循环内容

## 事件循环

包含 宏任务 和 微任务


![./宏任务和微任务.png](宏任务和微任务/宏任务和微任务.png)


### 宏任务

- 分类：setTimeOut、setInterval、requestAnimationFrame、I/O
  1. 宏任务所处的队列就是宏任务队列
  2. 第一个宏任务队列只有一个任务；执行主线程的js代码
  3. 宏任务队列可以有多个
  4. 当宏任务队列中的任务全部执行完以后，会查看是否有微任务队列，如果有先执行微任务队列中的所有任务，

### 微任务

- 分类：new Promise.then()、process.nextTick
  1. 微任务所处的队列就是微任务队列
  2. 只有一个微任务队列
  3. 在上一个宏任务队列执行完毕后，如果有微任务队列，就会执行微任务队列里的所有任务


## 顺序
![./宏任务和微任务.png](宏任务和微任务/事件循环.png)


先微后宏

> 同步 -> 事件循环【宏任务和微任务】 -> 微任务 -> 宏任务 -> 微任务 。。。
> 只有清空微任务后可以执行宏任务

